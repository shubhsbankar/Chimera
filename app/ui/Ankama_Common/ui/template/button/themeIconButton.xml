<themeIconButton>

	<!-- Parametres du template -->
	<Param name="Size" />
	<Param name="name" />
	<Param name="Anchors" />
	<Param name="Hooks">
		<onRelease />
	</Param>
	<Param name="radioGroup"></Param>
	<Param name="selected">false</Param>
	<Param name="radioMode">false</Param>
	<Param name="checkBox">false</Param>
	<Param name="autoGrid">false</Param>
	<Param name="disabled">false</Param>
	<Param name="visible">true</Param>
	<Param name="iconUri">null</Param>
	<Param name="selectedIconUri">null</Param>
	<Param name="iconThemeDataId"></Param>
	<Param name="bgThemeDataId">button_small</Param>
	<Param name="ignore">false</Param>
	<Param name="scaleX">1</Param>
	<Param name="bgScaleX">1</Param>
	<Param name="rotation">0</Param>
	<Param name="bgRotation">0</Param>
    <Param name="iconRotation">0</Param>
	<Param name="iconAnchors">
		<Anchor relativePoint="TOPLEFT">
			<AbsDimension x="5" y="5" />
		</Anchor>
		<Anchor relativePoint="BOTTOMRIGHT">
			<AbsDimension x="-5" y="-5" />
		</Anchor>

	</Param>
	<Param name="smooth">false</Param>
	<Param name="tooltipContent"></Param>



	<!-- Variables internes au template -->
	<Var name="bgTextureName">'bgTexture' + '#name'</Var>
	<Var name="iconTextureName">'iconTexture' + '#name'</Var>

	<Var name="bgNormal">'#bgThemeDataId' + '_normal'</Var>
	<Var name="bgOver">'#bgThemeDataId' + '_over'</Var>
	<Var name="bgPressed">'#bgThemeDataId' + '_pressed'</Var>
	<Var name="bgDisabled">'#bgThemeDataId' + '_disabled'</Var>
	<Var name="bgSelected">'#bgThemeDataId' + '_selected'</Var>
	<Var name="bgSelectedOver">'#bgThemeDataId' + '_selected_over'</Var>
	<Var name="bgSelectedPressed">'#bgThemeDataId' + '_selected_pressed'</Var>

	<Var name="selectedIconStateBlock">('#selectedIconUri' == 'null') ? '#iconUri' : '#selectedIconUri'</Var>
	<Var name="ignoreSelectedIconStateBlock">'#iconUri' == 'null'</Var>

	<Button name="#name" ignore="#ignore">
		<Common>
			<visible>#visible</visible>
			<disabled>#disabled</disabled>
			<checkBox>#checkBox</checkBox>
			<Size>
				#Size
			</Size>
			<rotation>#rotation</rotation>

			<radioGroup>#radioGroup</radioGroup>
			<radioMode>#radioMode</radioMode>
			<selected>#selected</selected>
			<tooltipContent>#tooltipContent</tooltipContent>

			<Anchors>#Anchors</Anchors>

			<TextureBitmap name="$bgTextureName">
				<Size>
					<RelDimension x="1" y="1" />
				</Size>
				<rotation>#bgRotation</rotation>
				<scaleX>#bgScaleX</scaleX>
				<themeDataId>$bgNormal</themeDataId>
				<smooth>#smooth</smooth>
			</TextureBitmap>

			<TextureBitmap name="$iconTextureName">
				<Anchors>
					#iconAnchors
				</Anchors>
				<themeDataId>#iconThemeDataId</themeDataId>
				<uri>#iconUri</uri>
				<scaleX>#scaleX</scaleX>
                <rotation>#iconRotation</rotation>
				<smooth>true</smooth>
			</TextureBitmap>

			<Hooks>#Hooks</Hooks>
		</Common>

		<State type="OVER">
			<SetProperties target="$bgTextureName">
				<themeDataId>$bgOver</themeDataId>
			</SetProperties>
			<SetProperties target="$iconTextureName" ignore="$ignoreSelectedIconStateBlock">
				<uri>#iconUri</uri>
			</SetProperties>
		</State>

		<State type="PRESSED">
			<SetProperties target="$bgTextureName">
				<themeDataId>$bgPressed</themeDataId>
			</SetProperties>
			<SetProperties target="$iconTextureName" ignore="$ignoreSelectedIconStateBlock">
				<uri>#iconUri</uri>
			</SetProperties>
		</State>

		<State type="DISABLED">
			<SetProperties target="$bgTextureName">
				<themeDataId>$bgDisabled</themeDataId>
			</SetProperties>
			<SetProperties target="$iconTextureName" ignore="$ignoreSelectedIconStateBlock">
				<uri>#iconUri</uri>
			</SetProperties>
		</State>

		<State type="SELECTED">
			<SetProperties target="$bgTextureName">
				<themeDataId>$bgSelected</themeDataId >
			</SetProperties>
			<SetProperties target="$iconTextureName" ignore="$ignoreSelectedIconStateBlock">
				<uri>$selectedIconStateBlock</uri>
			</SetProperties>
		</State>

		<State type="SELECTED_OVER">
			<SetProperties target="$bgTextureName">
				<themeDataId>$bgSelectedOver</themeDataId>
			</SetProperties>
			<SetProperties target="$iconTextureName" ignore="$ignoreSelectedIconStateBlock">
				<uri>$selectedIconStateBlock</uri>
			</SetProperties>
		</State>

		<State type="SELECTED_PRESSED">
			<SetProperties target="$bgTextureName">
				<themeDataId>$bgSelectedPressed</themeDataId>
			</SetProperties>
			<SetProperties target="$iconTextureName" ignore="$ignoreSelectedIconStateBlock">
				<uri>$selectedIconStateBlock</uri>
			</SetProperties>
		</State>
	</Button>

</themeIconButton>